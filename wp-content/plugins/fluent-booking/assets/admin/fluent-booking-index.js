(()=>{"use strict";var e={734:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(3645),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,':root{--fcal_block_dark:#1b2533;--fcal_block_bg:#fff;--fcal_block_input_bg:#fff;--fcal_block_border_color:#d6dae1;--fcal_block_gray_color:#8f97a2;--fcal_block_primary_color:#306ae0;--fcal_block_enable_day_bg:#e5e7eb}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap.dark{--fcal_block_dark:#dddbdb;--fcal_block_bg:#1c1c1c;--fcal_block_border_color:#2b2b2b;--fcal_block_enable_day_bg:#2b2b2b;--fcal_block_primary_color:#fff;--fcal_block_input_bg:#2b2b2b}.fcal_block_landing_page{background:#f5f6f7;border:1px solid var(--fcal_block_border_color);border-radius:8px;padding:24px;position:relative}.fcal_block_landing_page .fcal_block_loading,.fcal_block_landing_page .fcal_calendar_not_found h2{font-size:20px;margin:0}.fcal_block_landing_page .fcal_block_header{text-align:center}.fcal_block_landing_page .fcal_block_header .fcal_block_logo{display:block;margin:auto auto 20px}.fcal_block_landing_page #fcal_select_calendar{border-radius:8px;max-width:100%;padding:6px 20px;width:100%}.fcal_block_landing_page #fcal_select_calendar:focus{box-shadow:none;outline:none}.fcal_block_landing_page.fcal_block_landing_preview{background:none;border:none;margin:auto;padding:0}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap{background:var(--fcal_block_bg);border:1px solid var(--fcal_block_border_color);border-radius:8px;display:flex}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside{border-right:1px solid var(--fcal_block_border_color);flex:40%;padding:24px;width:100%}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_author{margin-bottom:10px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_author .fcal_author_avatar{height:80px;margin-bottom:10px;width:80px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_author .fcal_author_avatar img{border-radius:8px;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_author .fcal_author_name{color:var(--fcal_block_dark);font-size:1rem;font-weight:400;line-height:1.5;margin:0;text-transform:capitalize}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_info .fcal_slot_heading{color:var(--fcal_block_dark);font-size:24px;font-weight:700;line-height:32px;margin:0 0 20px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_info .fcal_icon_item{align-items:center;color:var(--fcal_block_dark);-moz-column-gap:8px;column-gap:8px;display:flex;font-size:14px;font-weight:500;line-height:20px;margin-bottom:10px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_info .fcal_icon_item svg{fill:#697483;stroke:#697483}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_description{color:var(--fcal_block_dark);font-size:16px;margin-top:20px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_description p{line-height:1.6;margin:1rem 0}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_description ul{list-style:disc;margin:0 0 1rem;padding-left:2rem}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside .fcal_slot_description ol{list-style:decimal;margin:0 0 1rem;padding-left:2rem}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_date_wrapper{flex:60%;padding:30px 20px}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_date_wrapper img{display:block}.fcal_block_settings{width:100%}.fcal_block_settings .fcal_block_inspector_widget{margin-bottom:20px}.fcal_block_settings .fcal_block_inspector_widget h3{margin-bottom:5px}.fcal_block_settings .fcal_block_inspector_widget select{border:1px solid var(--fcal_block_border_color);border-radius:8px;padding:3px 16px;width:100%}.fcal_block_settings .fcal_block_inspector_widget .fcal_checkbox_control{margin-bottom:12px}.fcal_block_settings .fcal_block_inspector_host_info .components-flex{gap:12px}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack{flex-direction:row;justify-content:flex-start}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack input{height:16px;margin-right:0;transition:.3s;width:16px}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack input:focus{box-shadow:none;outline:none}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack input:before{border-width:3px;height:6px;transition:.3s;width:6px}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack input:checked:before{transform:translate(4px,4px)}.fcal_block_settings .fcal_block_inspector_host_info .components-base-control__field .components-v-stack label{margin-right:0;padding-left:6px}.fcal_block_calendar_container .fcal_block_calendar_header{margin-bottom:8px}.fcal_block_calendar_container .fcal_block_calendar_header h3{color:var(--fcal_block_dark);font-size:18px;line-height:28px;margin:0}.fcal_block_calendar_container .fcal_block_calendar_header h3 span{color:var(--fcal_block_gray_color)}.fcal_block_calendar_container .fcal_block_timezone{margin-top:20px}.fcal_block_calendar_container .fcal_block_timezone h3{color:var(--fcal_block_dark);display:block;font-size:17px;font-weight:500;line-height:27px;margin:0 0 5px}.fcal_block_calendar_container .fcal_block_timezone .timezone{background:var(--fcal_block_input_bg);border:1px solid var(--fcal_block_border_color);border-radius:8px;color:var(--fcal_block_dark);display:block;font-size:16px;line-height:26px;padding:6px 20px}.fcal_block_calendar{align-items:center;display:grid;gap:.6rem;grid-template-columns:repeat(7,minmax(0,3rem));overflow:auto;width:100%}.fcal_block_calendar .day{box-sizing:border-box;color:var(--fcal_block_gray_color);display:block;font-size:14px;font-weight:500;padding-top:100%!important;position:relative;text-align:center;z-index:1}.fcal_block_calendar .day>span{align-items:center;border-radius:4px;bottom:0;display:flex;justify-content:center;left:0;position:absolute!important;right:0;top:0}.fcal_block_calendar .day .is-today{color:var(--fcal_block_primary_color);margin:auto;z-index:1}.fcal_block_calendar .day .is-today:before{background:var(--fcal_block_primary_color);border-radius:4px;bottom:4px;content:"";height:6px;left:50%;position:absolute;transform:translateX(-50%);width:6px;z-index:-1}.fcal_block_calendar .day:nth-of-type(7n+7){border-right:0}.fcal_block_calendar .day:nth-of-type(n+1):nth-of-type(-n+7){grid-row:1}.fcal_block_calendar .day:nth-of-type(n+8):nth-of-type(-n+14){grid-row:2}.fcal_block_calendar .day:nth-of-type(n+15):nth-of-type(-n+21){grid-row:3}.fcal_block_calendar .day:nth-of-type(n+22):nth-of-type(-n+28){grid-row:4}.fcal_block_calendar .day:nth-of-type(n+29):nth-of-type(-n+35){grid-row:5}.fcal_block_calendar .day:nth-of-type(n+36):nth-of-type(-n+42){grid-row:6}.fcal_block_calendar .day:nth-of-type(7n+1){grid-column:1/1}.fcal_block_calendar .day:nth-of-type(7n+2){grid-column:2/2}.fcal_block_calendar .day:nth-of-type(7n+3){grid-column:3/3}.fcal_block_calendar .day:nth-of-type(7n+4){grid-column:4/4}.fcal_block_calendar .day:nth-of-type(7n+5){grid-column:5/5}.fcal_block_calendar .day:nth-of-type(7n+6){grid-column:6/6}.fcal_block_calendar .day:nth-of-type(7n+7){grid-column:7/7}.fcal_block_calendar .day.day-enabled{color:var(--fcal_block_dark)}.fcal_block_calendar .day.day-enabled span{background-color:var(--fcal_block_enable_day_bg);border-radius:4px;color:var(--fcal_block_dark);font-weight:500;transition:.3s;-webkit-transition:.3s;-moz-transition:.3s;-ms-transition:.3s;-o-transition:.3s}.fcal_block_calendar .day-name{word-wrap:normal;color:var(--fcal_block_dark);font-size:14px;font-weight:500;line-height:41px;text-align:center;text-transform:uppercase}@media (max-width:650px){.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap{flex-direction:column}.fcal_block_landing_page.fcal_block_landing_preview .fcal_block_preview_wrap .fcal_block_preview_aside{border:none;max-width:100%}}',""]);const c=l},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=e(t);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var l={};if(n)for(var c=0;c<this.length;c++){var r=this[c][0];null!=r&&(l[r]=!0)}for(var o=0;o<e.length;o++){var i=[].concat(e[o]);n&&l[i[0]]||(a&&(i[2]?i[2]="".concat(a," and ").concat(i[2]):i[2]=a),t.push(i))}},t}},3379:(e,t,a)=>{var n,l=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},c=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),r=[];function o(e){for(var t=-1,a=0;a<r.length;a++)if(r[a].identifier===e){t=a;break}return t}function i(e,t){for(var a={},n=[],l=0;l<e.length;l++){var c=e[l],i=t.base?c[0]+t.base:c[0],_=a[i]||0,d="".concat(i," ").concat(_);a[i]=_+1;var s=o(d),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==s?(r[s].references++,r[s].updater(f)):r.push({identifier:d,updater:m(f,t),references:1}),n.push(d)}return n}function _(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var l=a.nc;l&&(n.nonce=l)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=c(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,s=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,a,n){var l=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=s(t,l);else{var c=document.createTextNode(l),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(c,r[t]):e.appendChild(c)}}function p(e,t,a){var n=a.css,l=a.media,c=a.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),c&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var u=null,b=0;function m(e,t){var a,n,l;if(t.singleton){var c=b++;a=u||(u=_(t)),n=f.bind(null,a,c,!1),l=f.bind(null,a,c,!0)}else a=_(t),n=p.bind(null,a,t),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else l()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=l());var a=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var l=o(a[n]);r[l].references--}for(var c=i(e,t),_=0;_<a.length;_++){var d=o(a[_]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}a=c}}}}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var c=t[n]={id:n,exports:{}};return e[n](c,c.exports,a),c.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nc=void 0,(()=>{var e=wp.blockEditor,t=e.InspectorControls,n=e.PanelColorSettings,l=wp.i18n.__,c=wp.components,r=c.PanelBody,o=c.PanelRow,i=window.fluent_booking_block.hosts,_=Object.values(i);const d=function(e){var a=e.attributes,c=a.slotId,i=a.calendarId,d=(a.calendars,a.primary_color),s=a.date_round,f=a.avatarStyle,p=a.hideHostInfo,u=a.theme,b=e.setAttributes,m=[{value:d,onChange:function(e){b({primary_color:e})},label:l("Primary Color")}];return React.createElement(t,null,React.createElement(r,{title:"General Settings",initialOpen:!0},React.createElement(o,null,React.createElement("div",{className:"fcal_block_settings"},React.createElement("div",{className:"fcal_block_inspector_widget"},React.createElement("h3",{className:"label"},l("Select An Event")),React.createElement("select",{value:[c,i],onChange:function(e){var t=e.target.value.split(",");b({slotId:t[0]}),b({calendarId:t[1]})}},React.createElement("option",{key:"default",value:""},l("---Select a Event---")),_.map((function(e,t){return React.createElement("optgroup",{label:e.title,key:t},e.events.map((function(t,a){return React.createElement("option",{key:a,value:[t.id,e.id]},t.title)})))})))),React.createElement("div",{className:"fcal_block_inspector_widget"},React.createElement("h3",{className:"label"},l("Date Style")),React.createElement("select",{value:s,onChange:function(e){b({date_round:e.target.value})}},React.createElement("option",{value:"4px"},l("Square")),React.createElement("option",{value:"50%"},l("Rounded")))),React.createElement("div",{className:"fcal_block_inspector_widget"},React.createElement("h3",{className:"label"},l("Avatar Style")),React.createElement("select",{value:f,onChange:function(e){b({avatarStyle:e.target.value})}},React.createElement("option",{value:"8px"},l("Square")),React.createElement("option",{value:"50%"},l("Rounded")))),React.createElement("div",{className:"fcal_block_inspector_widget fcal_block_inspector_host_info"},React.createElement("h3",{className:"label"},l("Host Info")),React.createElement("select",{value:p,onChange:function(e){b({hideHostInfo:e.target.value})}},React.createElement("option",{value:"no"},l("Show")),React.createElement("option",{value:"yes"},l("Hide")))),React.createElement("div",{className:"fcal_block_inspector_widget fcal_block_theme"},React.createElement("h3",{className:"label"},l("Color Schema")),React.createElement("select",{value:u,onChange:function(e){b({theme:e.target.value})}},React.createElement("option",{value:"system-default"},l("System Default")),React.createElement("option",{value:"light"},l("Light")),React.createElement("option",{value:"dark"},l("Dark"))))))),"dark"!=u?React.createElement("div",{className:"fluent-latest-posts-content-color-settings"},React.createElement(n,{title:l("Customization"),colorSettings:m})):"")};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,c,r,o=[],i=!0,_=!1;try{if(c=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=c.call(a)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){_=!0,l=e}finally{try{if(!i&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(_)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var p=wp.i18n.__,u=wp.element,b=u.Fragment,m=u.useEffect,g=u.useState,v=function(e){var t=e.attributes.slotId,a=(e.setAttributes,new Date),n=a.getFullYear(),l=a.getMonth(),c=s(g([]),2),r=c[0],o=c[1],i=s(g({}),2),_=i[0],d=i[1],f=s(g(""),2),u=f[0],v=f[1];m((function(){!function(){var e=(new Date).getFullYear(),a=(new Date).getMonth(),n={event_id:t,action:"fluent_cal_get_available_dates",start_date:"".concat(e,"-").concat(a+1,"-01")},l=new URLSearchParams(n).toString();fetch("".concat(window.fluentCalendarGutenbergVars.ajaxurl,"?").concat(l),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){d(null==e?void 0:e.available_slots),v(null==e?void 0:e.timezone)})).catch((function(e){console.error("There was an error!",e)}))}()}),[t]),m((function(){!function(){for(var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=[],l=new Date(t,a,1).getDay(),c=new Date(t,a+1,0).getDate(),r=new Date(t,a,0).getDate(),i=0===a?11:a-1,d=r-l;d<r;d++){var s=new Date(11===i?t-1:t,i,d+1);n.push({name:"",enabled:!1,date:s})}for(var f=0;f<c;f++){var p=new Date(t,a,f+1).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),u=!!_[p];n.push({name:"".concat(f+1),enabled:u,date:p})}o(n)}()}),[_]);var h=new Date;function k(e){var t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}return[React.createElement(b,null,React.createElement("div",{className:"fcal_block_calendar_container"},React.createElement("div",{className:"fcal_block_calendar_header"},React.createElement("div",{className:"fcal_block_calendar_month_year"},React.createElement("h3",null,["January","February","March","April","May","June","July","August","September","October","November","December"][l]," ",React.createElement("span",null,n)))),React.createElement("div",{className:"fcal_block_calendar"},["sun","mon","tue","wed","thu","fri","sat"].map((function(e,t){return React.createElement("span",{className:"day-name",key:t},e)})),r.map((function(e,t){return React.createElement(b,{key:t},e.enabled?React.createElement("span",{role:"button",tabIndex:"0","aria-label":"Select Day ".concat(e.name),className:"day day-enabled"},React.createElement("span",{className:k(h)===e.date?"is-today":""},e.name)):React.createElement("span",{className:"day day-disabled"},React.createElement("span",{className:k(h)===e.date?"is-today":""},e.name)))}))),u?React.createElement("div",{className:"fcal_block_timezone"},React.createElement("h3",null,p("Timezone")),React.createElement("span",{className:"timezone"},u)):""))]},h=a(3379),k=a.n(h),w=a(734),y={insert:"head",singleton:!1};k()(w.Z,y);w.Z.locals;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,c,r,o=[],i=!0,_=!1;try{if(c=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=c.call(a)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){_=!0,l=e}finally{try{if(!i&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(_)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var j=wp.element,O=j.Fragment,z=j.useEffect,A=j.useState,I=wp.i18n.__,M=wp.components.Spinner,D=function(e){var t,a,n,l,c,r,o=e.attributes,i=o.slotId,_=(o.calendars,o.calendarId),d=o.eventHash,s=o.avatarStyle,f=o.hideHostInfo,p=o.theme,u=e.setAttributes,b=S(A(!1),2),m=b[0],g=b[1],h=S(A([]),2),k=h[0],w=h[1],y=S(A(!1),2),E=y[0],x=y[1],C=wp.apiFetch,N=wp.url.addQueryArgs,j=S(A([]),2),D=j[0],H=j[1];z((function(){L()}),[]),z((function(){D.length&&(i?(V(),P()):d&&T())}),[i,D]);var L=function(e){g(!0),C({path:N("fluent-booking/v2/calendars",R({},e))}).then((function(e){H(e.calendars.data)})).catch((function(e){x(e)})).finally((function(){g(!1)}))},P=function(e){g(!0),C({path:N("fluent-booking/v2/events/".concat(i),R(R({},e),{},{event_hash:d}))}).then((function(e){var t;w(e.calendar_event),u({slotId:null===(t=e.calendar_event)||void 0===t?void 0:t.id})})).catch((function(e){x(e)})).finally((function(){g(!1)}))},V=function(){var e=D.flatMap((function(e){var t;return null!==(t=e.slots)&&void 0!==t&&t.length?e.slots:[]})).find((function(e){return e.id==i}));e&&u({eventHash:e.hash})},T=function(){var e=D.flatMap((function(e){var t;return null!==(t=e.slots)&&void 0!==t&&t.length?e.slots:[]})).find((function(e){return e.hash==d}));e&&u({slotId:e.id})};return[React.createElement(O,null,React.createElement("div",{className:i?"fcal_block_landing_page fcal_block_landing_preview":"fcal_block_landing_page "},i&&k?React.createElement("div",{className:p+" fcal_block_preview_wrap"},"no"==f?React.createElement("div",{className:"fcal_block_preview_aside"},React.createElement("div",{className:"fcal_author"},React.createElement("div",{className:"fcal_author_avatar"},React.createElement("img",{style:{borderRadius:s||"8px"},src:null===(t=k.calendar)||void 0===t||null===(t=t.author_profile)||void 0===t?void 0:t.avatar,alt:null===(a=k.calendar)||void 0===a?void 0:a.title})),React.createElement("h3",{className:"fcal_author_name"},null===(n=k.calendar)||void 0===n?void 0:n.title)),React.createElement("div",{className:"fcal_slot_info"},React.createElement("h2",{className:"fcal_slot_heading"},k.title),React.createElement("div",{className:"slot_timing fcal_icon_item"},React.createElement("svg",{fill:"#000000",width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},React.createElement("g",{strokeWidth:"0"}),React.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("g",null,React.createElement("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm5,11H12a1,1,0,0,1-1-1V6a1,1,0,0,1,2,0v5h4a1,1,0,0,1,0,2Z"}))),React.createElement("span",null,k.duration," ",I("Minutes"))),"in_person_organizer"==(null===(l=k.location_settings)||void 0===l?void 0:l.type)?React.createElement("div",{className:"slot_location fcal_icon_item"},React.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px","data-testid":"location-marker-icon","data-id":"details-item-icon"},React.createElement("title",null,"Physical location"),React.createElement("path",{d:"M12 0C7.453 0 3.623 3.853 3.623 8.429c0 6.502 7.18 14.931 7.42 15.172.479.482 1.197.482 1.675.24l.24-.24c.239-.24 7.419-8.67 7.419-15.172C20.377 3.853 16.547 0 12 0zm0 11.56c-1.675 0-2.872-1.445-2.872-2.89S10.566 5.78 12 5.78c1.436 0 2.872 1.445 2.872 2.89S13.675 11.56 12 11.56z",fill:"currentColor"})),React.createElement("span",null,null===(c=k.location_settings)||void 0===c?void 0:c.title)):null,"phone_organizer"==(null===(r=k.location_settings)||void 0===r?void 0:r.type)?React.createElement("div",{className:"slot_location fcal_icon_item"},React.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px","data-testid":"location-marker-icon","data-id":"details-item-icon"},React.createElement("title",null,"Physical location"),React.createElement("path",{d:"M12 0C7.453 0 3.623 3.853 3.623 8.429c0 6.502 7.18 14.931 7.42 15.172.479.482 1.197.482 1.675.24l.24-.24c.239-.24 7.419-8.67 7.419-15.172C20.377 3.853 16.547 0 12 0zm0 11.56c-1.675 0-2.872-1.445-2.872-2.89S10.566 5.78 12 5.78c1.436 0 2.872 1.445 2.872 2.89S13.675 11.56 12 11.56z",fill:"currentColor"})),React.createElement("span",null,I("Phone Call"))):null),React.createElement("div",{className:"fcal_slot_description"},React.createElement("div",{dangerouslySetInnerHTML:{__html:k.description}}))):null,React.createElement("div",{className:"fcal_block_preview_date_wrapper"},React.createElement(v,{attributes:e.attributes,setAttributes:e.setAttributes}))):React.createElement("div",{className:"fcal_block_select_cal"},m?React.createElement("h2",{className:"fcal_block_loading"},I("Loading..."),React.createElement(M,null)):React.createElement("div",null,D&&D.length&&!E?React.createElement("select",{value:[i,_],id:"fcal_select_calendar",onChange:function(e){var t,a=e.target.value.split(","),n=null===(t=D.find((function(e){return e.id==a[1]})))||void 0===t?void 0:t.slots.find((function(e){return e.id==a[0]}));u({slotId:a[0],calendarId:a[1],eventHash:n.hash})}},React.createElement("option",{key:"default",value:""},I("---Select a Event---")),D.map((function(e,t){return React.createElement("optgroup",{label:e.title,key:t},e.slots.map((function(t,a){return React.createElement("option",{key:a,value:[t.id,e.id]},t.title)})))}))):React.createElement("div",{className:"fcal_calendar_not_found"},React.createElement("h2",null,I(E?"Something went wrong!":"No Calendars found!")))))))]};const H=function(e){return React.createElement(React.Fragment,null,React.createElement("div",{className:"fluent-booking-block"},React.createElement(D,{attributes:e.attributes,setAttributes:e.setAttributes})),React.createElement(d,{attributes:e.attributes,setAttributes:e.setAttributes}))};var L=wp.blockEditor.InnerBlocks;const P=function(e){return React.createElement(React.Fragment,null,React.createElement(L.Content,null))};const V=function(){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"32",viewBox:"0 0 30 32",fill:"none"},React.createElement("g",{clipPath:"url(#clip0_1688_2013)"},React.createElement("path",{d:"M10.1203 1.01286C10.1203 0.453471 9.66787 0 9.10977 0C8.55167 0 8.09924 0.453471 8.09924 1.01286V4.05141C8.09924 4.6108 8.55167 5.06427 9.10977 5.06427C9.66787 5.06427 10.1203 4.6108 10.1203 4.05141V1.01286Z",fill:"#2653C7"}),React.createElement("path",{d:"M22.2466 1.01286C22.2466 0.453471 21.7942 0 21.2361 0C20.678 0 20.2256 0.453471 20.2256 1.01286V4.05141C20.2256 4.6108 20.678 5.06427 21.2361 5.06427C21.7942 5.06427 22.2466 4.6108 22.2466 4.05141V1.01286Z",fill:"#2653C7"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3622 16.8131C17.2566 17.6376 16.9154 18.3876 16.4061 18.992C15.8715 19.6303 15.152 20.1068 14.3302 20.3405L14.2947 20.3506L14.2145 20.3718L14.2078 20.3735L7.84399 22.0834V20.6003C7.84399 20.5673 7.84399 20.5343 7.84738 20.5013C7.88455 19.8808 8.27389 19.3543 8.81778 19.1215C8.87942 19.0944 8.94277 19.0716 9.00865 19.0538L9.06861 19.0377L17.3613 16.8105V16.8131H17.3622Z",fill:"#2653C7"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.503 11.3442C22.2868 13.0363 21.0731 14.4161 19.471 14.8716L19.4355 14.8817L19.3562 14.9029H19.3553L19.3486 14.9046L7.84399 17.9943V16.5113C7.84399 15.8476 8.24516 15.2779 8.81778 15.0324L9.00865 14.9647L9.06776 14.9486L22.5021 11.3408V11.3442H22.503Z",fill:"#2653C7"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.33094 3.54525H24.0152C26.3871 3.54525 28.3099 5.4725 28.3099 7.84988V22.1785H30.331V7.84988C30.331 4.35371 27.5033 1.51953 24.0152 1.51953H6.33094C2.84281 1.51953 0.0151367 4.35371 0.0151367 7.84988V25.5748C0.0151367 29.071 2.84281 31.9052 6.33094 31.9052H20.5468V29.8795H6.33094C3.95902 29.8795 2.03619 27.9522 2.03619 25.5748V7.84988C2.03619 5.4725 3.95902 3.54525 6.33094 3.54525Z",fill:"#2653C7"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.346 22.415V22.083H20.5468V31.9048H20.8779L30.346 22.415Z",fill:"#2653C7"})),React.createElement("defs",null,React.createElement("clipPath",{id:"clip0_1688_2013"},React.createElement("rect",{width:"159",height:"32",fill:"white"}))))};var T=wp.i18n.__;(0,wp.blocks.registerBlockType)("fluent-booking/calendar",{title:T("FluentBooking Event"),description:T("FluentBooking Event"),category:"widgets",icon:V,keywords:[T("fluent"),T("fluent booking"),T("calendar"),T("booking")],supports:{align:["wide","full"],html:!0},attributes:{slotId:{type:"string",default:""},calendarId:{type:"string",default:""},eventHash:{type:"string",default:""},calendars:{type:"array",default:[]},primary_color:{type:"string",default:"#4587EC"},date_round:{type:"string",default:"4px"},avatarStyle:{type:"string",default:"8px"},hideHostInfo:{type:"string",default:"no"},theme:{type:"string",default:"light"}},edit:H,save:P})})()})();